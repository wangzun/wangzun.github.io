<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Erlang on wangzun&#39;s blog</title>
    <link>http://wangzun.github.io/tags/erlang/</link>
    <description>Recent content in Erlang on wangzun&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 17 Dec 2016 14:01:01 +0800</lastBuildDate>
    <atom:link href="http://wangzun.github.io/tags/erlang/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>erlang with soft real-time system</title>
      <link>http://wangzun.github.io/posts/preemptive/</link>
      <pubDate>Sat, 17 Dec 2016 14:01:01 +0800</pubDate>
      
      <guid>http://wangzun.github.io/posts/preemptive/</guid>
      <description>&lt;p&gt;as most erlang progamers know ,erlang is suitable for Distributed, reliable, soft real-time concurrent systems.many companies use erlang to solving their problem, like Whatsapp, RabbitMQ which need a large messge server. other feature is easy to understand but what was the soft real-time system?&lt;/p&gt;

&lt;p&gt;soft real-time system is one of the real-time system which need server response on time,&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>erlang有用的小细节</title>
      <link>http://wangzun.github.io/posts/erlang/</link>
      <pubDate>Thu, 21 Jul 2016 16:05:06 +0900</pubDate>
      
      <guid>http://wangzun.github.io/posts/erlang/</guid>
      <description>

&lt;h5 id=&#34;1-erlang-shell用法:9f3b6997f78b7d4fd24f17461ec402ee&#34;&gt;1. erlang shell用法&lt;/h5&gt;

&lt;p&gt;&lt;code&gt;rp(Term)&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Prints a term using the record definitions known to the shell. All of Term is printed; the depth is not limited as is the case when a return value is printed.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;b()&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Prints the current variable bindings.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;f() , f(X)&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Removes variable bindings.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;v(N)&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Uses the return value of command N in the current command
2&amp;gt; fun() -&amp;gt; ok end.
#Fun&amp;lt;erl_eval.20.54118792&amp;gt;
3&amp;gt;
3&amp;gt; Fun = v(-1).
#Fun&amp;lt;erl_eval.20.54118792&amp;gt;
4&amp;gt; Fun.
#Fun&amp;lt;erl_eval.20.54118792&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;flush()&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;2&amp;gt; Pid = self().
3&amp;gt; erlang:spawn(fun() -&amp;gt; Pid ! test end).
&amp;lt;0.38.0&amp;gt;
4&amp;gt; flush().
Shell got test
ok
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;catch_exception(true)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;没有catch_exception(true)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1&amp;gt; Table = ets:new(test1,[]).
16400
2&amp;gt; ets:info(Table).
[{read_concurrency,false},
 {write_concurrency,false},
 {compressed,false},
 {memory,305},
 {owner,&amp;lt;0.33.0&amp;gt;},
 {heir,none},
 {name,test1},
 {size,0},
 {node,nonode@nohost},
 {named_table,false},
 {type,set},
 {keypos,1},
 {protection,protected}]
3&amp;gt;
3&amp;gt; 1/0.
** exception error: an error occurred when evaluating an arithmetic expression
     in operator  &#39;/&#39;/2
        called as 1 / 0
4&amp;gt;
4&amp;gt; ets:info(Table).
undefined
5&amp;gt; self().
&amp;lt;0.37.0&amp;gt;
6&amp;gt; 1/0.
** exception error: an error occurred when evaluating an arithmetic expression
     in operator  &#39;/&#39;/2
        called as 1 / 0
7&amp;gt; self().
&amp;lt;0.41.0&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;使用catch_exception(true)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;8&amp;gt; catch_exception(true).
false
9&amp;gt;
9&amp;gt; self().
&amp;lt;0.41.0&amp;gt;
10&amp;gt;
10&amp;gt; 1/0.
* exception error: an error occurred when evaluating an arithmetic expression
    in operator  &#39;/&#39;/2
       called as 1 / 0
11&amp;gt; self().
&amp;lt;0.41.0&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;2-erlang-node:9f3b6997f78b7d4fd24f17461ec402ee&#34;&gt;2.erlang node&lt;/h5&gt;

&lt;p&gt;&lt;code&gt;启动分布式节点&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;erl -name test1@0.0.0.0

net_kernel:start([&#39;test1@0.0.0.0&#39;]).
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;-hidden&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Hidden connections are not published on either of the connected nodes
a,b节点为普通节点，c为hidden节点，当a与c连接，b与c连接后，a与b不会连接
net_kernel:connect_node(Node)
nodes()
ets:tab2list(sys_dist)
epmd
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;rpc&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;-kernel dist_auto_connect never

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;group_leader&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Every process is a member of some process group and all groups have a group leader. All I/O from the group is channeled to the group leader. When a new process is spawned, it gets the same group leader as the spawning process.
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;3-ets:9f3b6997f78b7d4fd24f17461ec402ee&#34;&gt;3.ets&lt;/h5&gt;

&lt;p&gt;&lt;code&gt;ets:all()&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Returns a list of all tables at the node.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;ets:info()&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;ets:new(Name,Op)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;ets:first(Tab)&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ets:last(Tab)
ets:next(Tab,Key)
ets:prev(Tab,Key)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;ets:select(Tab,MatchSpec)&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ets:fun2ms
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;4-热更新:9f3b6997f78b7d4fd24f17461ec402ee&#34;&gt;4.热更新&lt;/h5&gt;

&lt;p&gt;&lt;code&gt;c:l(Mod)&lt;/code&gt;&lt;/p&gt;

&lt;h5 id=&#34;5-system-limit:9f3b6997f78b7d4fd24f17461ec402ee&#34;&gt;5.system_limit&lt;/h5&gt;

&lt;h5 id=&#34;6-开源库:9f3b6997f78b7d4fd24f17461ec402ee&#34;&gt;6.开源库&lt;/h5&gt;

&lt;p&gt;&lt;code&gt;recon&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>